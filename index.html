<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 ç‹ç‹ç‹æ—¥æœ¬è¡Œ</title>
    <style>
        :root { --primary: #76c7ff; --secondary: #ffcb05; --bg: #eef7ff; --text: #444; }
        body { font-family: "PingFang TC", "Microsoft JhengHei", sans-serif; background-color: var(--bg); color: var(--text); margin: 0; display: flex; justify-content: center; }
        
        .app-container { width: 100%; max-width: 500px; background: white; min-height: 100vh; position: relative; box-shadow: 0 0 20px rgba(0,0,0,0.05); }
        
        /* Header */
        header { display: flex; justify-content: space-between; align-items: center; padding: 25px 20px; background: white; }
        .logo { font-size: 22px; font-weight: bold; color: #333; }
        .menu-btn { font-size: 28px; cursor: pointer; color: var(--primary); }
        
        /* Dropdown Menu */
        .menu-dropdown { display: none; position: absolute; top: 75px; right: 20px; background: white; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border-radius: 20px; z-index: 100; min-width: 180px; overflow: hidden; border: 2px solid #f0faff; }
        .menu-dropdown.show { display: block; animation: popIn 0.3s ease; }
        .menu-item { padding: 18px 20px; border-bottom: 1px solid #f9f9f9; font-size: 16px; cursor: pointer; display: flex; align-items: center; gap: 10px; }
        .menu-item:hover { background: #f0faff; }

        .content { padding: 0 25px 50px; }
        h3 { margin-bottom: 15px; font-size: 15px; color: #999; letter-spacing: 1px; }

        /* Icon Buttons */
        .btn-group { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-bottom: 30px; }
        .selection-btn { background: #f8fbff; border: 2px solid #f0f4f8; padding: 15px 5px; border-radius: 25px; font-size: 15px; text-align: center; cursor: pointer; transition: 0.3s; display: flex; flex-direction: column; align-items: center; gap: 5px; }
        .selection-btn span { font-size: 22px; }
        .selection-btn.active { border-color: var(--primary); background-color: #ffffff; box-shadow: 0 8px 15px rgba(118,199,255,0.2); transform: translateY(-3px); color: var(--primary); font-weight: bold; }

        /* User Buttons (5 in a row) */
        .user-group { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin-bottom: 30px; }
        .user-btn { background: #fff; border: 2px solid #f0f0f0; padding: 12px 0; border-radius: 50px; font-size: 14px; text-align: center; cursor: pointer; }
        .user-btn.active { border-color: var(--secondary); background: #fffdeb; color: #b48a00; font-weight: bold; box-shadow: 0 4px 10px rgba(255,203,5,0.2); }

        /* Inputs */
        .input-box { width: 100%; padding: 18px; margin-bottom: 15px; border: 2px solid #f0f4f8; border-radius: 25px; box-sizing: border-box; font-size: 17px; outline: none; transition: 0.3s; }
        .input-box:focus { border-color: var(--primary); background: #fff; }
        .twd-hint { font-size: 14px; color: var(--primary); margin-top: -10px; margin-bottom: 20px; font-weight: bold; text-align: right; }

        .submit-btn { width: 100%; padding: 18px; background: linear-gradient(135deg, #76c7ff, #5da9e9); color: white; border: none; border-radius: 30px; font-size: 18px; font-weight: bold; box-shadow: 0 10px 20px rgba(93,169,233,0.3); margin-top: 10px; cursor: pointer; }
        
        /* Characters Style */
        .character-img { width: 40px; vertical-align: middle; margin: 0 5px; }
        
        /* Login Page */
        #login-overlay { position: fixed; inset: 0; background: #fff; z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; text-align: center; }
        .login-title { font-size: 24px; color: #333; margin-bottom: 30px; }
        .character-float { animation: float 3s ease-in-out infinite; width: 120px; margin-bottom: 20px; }

        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        @keyframes popIn { from { opacity:0; transform: scale(0.9); } to { opacity:1; transform: scale(1); } }
    </style>
</head>
<body>

<div id="login-overlay">
    <img src="https://img.icons8.com/color/144/pikachu.png" class="character-float">
    <div class="login-title">âœ¨ 2026 ç‹ç‹ç‹æ—¥æœ¬è¡Œ âœ¨</div>
    <input type="password" id="passInput" class="input-box" style="width: 85%" placeholder="è¼¸å…¥å®¶æ—å¯†ç¢¼ (1234)">
    <button class="submit-btn" style="width: 85%" onclick="login()">é–‹å§‹è¨ˆå¸³ä¹‹æ—…</button>
</div>

<div class="app-container">
    <header>
        <div class="logo">ğŸ‡¯ğŸ‡µ 2026 ç‹å®¶è¨˜å¸³</div>
        <div class="menu-btn" onclick="toggleMenu()">âšªğŸ”µâšª</div>
        <div id="menu" class="menu-dropdown">
            <div class="menu-item">ğŸ“… æ¯æ—¥è¡Œç¨‹</div>
            <div class="menu-item">ğŸ“Š è¨˜å¸³ç¸½è¦½</div>
            <div class="menu-item">ğŸ® æŒ‘æˆ°å°éŠæˆ² <span style="font-size: 12px; background: #ffefef; color: #ff5e5e; padding: 2px 6px; border-radius: 10px;">New</span></div>
        </div>
    </header>

    <div class="content">
        <h3>âœ¦ 1. é¸æ“‡åˆ†é¡ âœ¦</h3>
        <div class="btn-group" id="cat-group">
            <div class="selection-btn active" onclick="selectBtn('cat', this, 'é£Ÿ')"><span>ğŸ±</span>é£Ÿ</div>
            <div class="selection-btn" onclick="selectBtn('cat', this, 'è¡Œ')"><span>ğŸšƒ</span>è¡Œ</div>
            <div class="selection-btn" onclick="selectBtn('cat', this, 'è³¼ç‰©')"><span>ğŸ›ï¸</span>è³¼ç‰©</div>
            <div class="selection-btn" onclick="selectBtn('cat', this, 'æ™¯é»')"><span>ğŸ—¼</span>æ™¯é»</div>
            <div class="selection-btn" onclick="selectBtn('cat', this, 'é›œ')"><span>ğŸˆ</span>é›œ</div>
            <div class="selection-btn" onclick="selectBtn('cat', this, 'ä½')"><span>ğŸ¨</span>ä½</div>
        </div>

        <h3>âœ¦ 2. è¼¸å…¥æ˜ç´° âœ¦</h3>
        <input type="number" id="amount" class="input-box" placeholder="æ—¥å¹£é‡‘é¡ (JPY)" inputmode="numeric" oninput="calcTWD()">
        <div id="twd-text" class="twd-hint"></div>
        <input type="text" id="item" class="input-box" placeholder="å“å (ä¾‹ï¼šä¸€è˜­æ‹‰éºµ)">

        <h3>âœ¦ 3. èª°å‡ºçš„éŒ¢ âœ¦</h3>
        <div class="user-group" id="user-group">
            <div class="user-btn active" onclick="selectBtn('user', this, 'èˆª')">èˆª</div>
            <div class="user-btn" onclick="selectBtn('user', this, 'å®‰')">å®‰</div>
            <div class="user-btn" onclick="selectBtn('user', this, 'é¦™')">é¦™</div>
            <div class="user-btn" onclick="selectBtn('user', this, 'ç‘©')">ç‘©</div>
            <div class="user-btn" onclick="selectBtn('user', this, 'å»·')">å»·</div>
        </div>

        <button id="send-btn" class="submit-btn" onclick="submitData()">å®Œæˆä¸¦å­˜æª” âœ¨</button>
        <p id="status" style="text-align: center; margin-top: 15px;"></p>
        
        <div style="text-align: center; margin-top: 30px; opacity: 0.6;">
            <img src="https://img.icons8.com/color/48/cinnamoroll.png" style="width: 30px;">
            <img src="https://img.icons8.com/color/48/sonic-the-hedgehog.png" style="width: 30px; margin: 0 20px;">
            <img src="https://img.icons8.com/color/48/pikachu.png" style="width: 30px;">
        </div>
    </div>
</div>

<script>
    const GAS_URL = "https://script.google.com/macros/s/AKfycbxktADedYUP_K5X8S0aJ-f0XKGjev2qOuNZi1LNN7E5vq1b26KA-71Oc1IZnR1drgYfdg/exec"; 
    let currentCat = "é£Ÿ";
    let currentUser = "èˆª";

    function login() {
        if(document.getElementById('passInput').value === '1234') {
            document.getElementById('login-overlay').style.display = 'none';
        } else { alert('å¯†ç¢¼éŒ¯èª¤ï¼'); }
    }

    function toggleMenu() { document.getElementById('menu').classList.toggle('show'); }

    function selectBtn(type, el, val) {
        const selector = type === 'cat' ? '#cat-group .selection-btn' : '#user-group .user-btn';
        document.querySelectorAll(selector).forEach(b => b.classList.remove('active'));
        el.classList.add('active');
        if(type === 'cat') currentCat = val;
        else currentUser = val;
    }

    function calcTWD() {
        const jpy = document.getElementById('amount').value;
        const twd = Math.round(jpy * 0.215);
        document.getElementById('twd-text').innerText = jpy ? `âœ¨ ç´„å°å¹£ $${twd} å…ƒ` : "";
    }

    function submitData() {
        const btn = document.getElementById('send-btn');
        const status = document.getElementById('status');
        const amount = document.getElementById('amount').value;
        const item = document.getElementById('item').value;

        if(!amount || !item) { alert('å“å‘€ï¼å¿˜äº†å¡«é‡‘é¡æˆ–å“åå–”'); return; }

        btn.disabled = true;
        status.innerText = "æ­£åœ¨è¯çµ¡çš®å¡ä¸˜å‚³é€è³‡æ–™...";
        
        fetch(GAS_URL, {
            method: "POST",
            mode: "no-cors",
            body: JSON.stringify({
                category: currentCat,
                amount: amount,
                item: item,
                user: currentUser
            })
        }).then(() => {
            status.innerText = "âœ… æˆåŠŸå­˜å…¥é›²ç«¯è©¦ç®—è¡¨ï¼";
            status.style.color = "#4CAF50";
            document.getElementById('amount').value = "";
            document.getElementById('item').value = "";
            document.getElementById('twd-text').innerText = "";
            btn.disabled = false;
        }).catch(() => {
            status.innerText = "âŒ å‚³é€å¤±æ•—ï¼Œè«‹å†è©¦ä¸€æ¬¡";
            status.style.color = "#f44336";
            btn.disabled = false;
        });
    }
</script>

</body>
</html>
