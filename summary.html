<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 ç‹å®¶è¨˜å¸³çµ±è¨ˆ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --primary: #76c7ff; --bg: #f8f9fa; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); margin: 0; padding: 20px; color: #333; }
        header { display: flex; align-items: center; margin-bottom: 20px; }
        .back-btn { text-decoration: none; font-size: 24px; margin-right: 15px; color: #666; }
        
        /* çµ±è¨ˆå¡ç‰‡ */
        .summary-card { 
            background: linear-gradient(135deg, #76c7ff, #5da9e9); 
            color: white; padding: 25px; border-radius: 20px; 
            text-align: center; box-shadow: 0 10px 20px rgba(93,169,233,0.3);
            margin-bottom: 25px;
        }
        .total-amount { font-size: 36px; font-weight: bold; margin: 5px 0; }
        .twd-amount { opacity: 0.9; font-size: 16px; }

        /* åœ–è¡¨å€å¡Š */
        .chart-container { background: white; padding: 20px; border-radius: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); margin-bottom: 20px; }
        h3 { margin-top: 0; font-size: 16px; color: #888; text-align: center; }

        /* åˆ‡æ›æŒ‰éˆ• */
        .tab-group { display: flex; background: #eee; border-radius: 12px; padding: 4px; margin-bottom: 20px; }
        .tab-btn { flex: 1; border: none; padding: 10px; border-radius: 10px; background: none; cursor: pointer; color: #666; font-weight: bold; }
        .tab-btn.active { background: white; color: var(--primary); box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    </style>
</head>
<body>

<header>
    <a href="index.html" class="back-btn">â¬…</a>
    <b style="font-size: 18px;">ğŸ“Š æ”¯å‡ºçµ±è¨ˆç¸½è¦½</b>
</header>

<div class="summary-card">
    <div>ç›®å‰ç¸½æ”¯å‡º (JPY)</div>
    <div class="total-amount" id="totalJPY">Â¥ 0</div>
    <div class="twd-amount" id="totalTWD">ç´„å°å¹£ $0 å…ƒ</div>
</div>

<div class="tab-group">
    <button class="tab-btn active" onclick="updateChart('user')">æˆå“¡æ¬Šé‡</button>
    <button class="tab-btn" onclick="updateChart('category')">æ¶ˆè²»åˆ†é¡</button>
</div>

<div class="chart-container">
    <h3 id="chartTitle">å„æˆå“¡æ”¯å‡ºæ¯”ä¾‹</h3>
    <canvas id="myChart"></canvas>
</div>

<div class="chart-container">
    <h3>æ¯æ—¥æ”¯å‡ºè¶¨å‹¢</h3>
    <canvas id="lineChart"></canvas>
</div>

<script>
    // é€™è£¡ä¹‹å¾Œå¯ä»¥å¯«ä¸€å€‹ fetch æŠ“å–ä½ çš„ Google Sheet è³‡æ–™
    // ç›®å‰å…ˆç”¨æ¨¡æ“¬è³‡æ–™è®“ä½ çœ‹æ¨£å¼
    const mockData = {
        users: { "èˆª": 15000, "å®‰": 8000, "é¦™": 12000, "ç‘©": 5000, "å»·": 9000 },
        categories: { "é£Ÿ": 12000, "è¡Œ": 8000, "è³¼ç‰©": 25000, "æ™¯é»": 4000, "ä½": 0, "é›œ": 500 },
        daily: [5000, 8000, 12000, 7000, 15000, 2000]
    };

    let mainChart;

    function initCharts() {
        const ctx = document.getElementById('myChart').getContext('2d');
        mainChart = new Chart(ctx, {
            type: 'doughnut', // åœ“ç’°åœ–
            data: {
                labels: Object.keys(mockData.users),
                datasets: [{
                    data: Object.values(mockData.users),
                    backgroundColor: ['#76c7ff', '#ffcb05', '#ff9f40', '#4bc0c0', '#9966ff']
                }]
